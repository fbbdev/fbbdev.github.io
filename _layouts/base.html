<!DOCTYPE html>
<html lang="en">
  <head>
    {% include meta.html %}

    {% if page.title %}
      <title>{{ page.title }} - {{ site.name }}</title>
    {% else %}
      <title>{{ site.name }}</title>
    {% endif %}

    {% if page.stylesheet %}
      <link href="css/{{ page.stylesheet }}.css" rel="stylesheet" type="text/css">
    {% endif %}

    {% if page.style %}
      <style>
        {{ page.style }}
      </style>
    {% endif %}

    <script src="js/cookie.js"></script>
    <script src="js/svg.min.js"></script>
    <script src="js/perlin.js"></script>
    <script src="js/background.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        getCookieConsent(document.querySelector('.cookie-banner'), ".{{ site.domain }}");

        {% for background in page.backgrounds %}
          noise.seed(12456);
          var bg = SVG(document.querySelector('{{ background.selector }}'));
          {% if background.height %}
            drawBackground(bg, {{ background.width }}, {{ background.height }});
          {% else %}
            drawBackground(bg, {{ background.width }});
          {% endif %}
        {% endfor %}
      });
    </script>
  </head>
  <body>
    {% include cookie-banner.html %}
    {{ content }}
  </body>
</html>
